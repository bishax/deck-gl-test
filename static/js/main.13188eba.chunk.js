(this["webpackJsonpdeck-gl-test"]=this["webpackJsonpdeck-gl-test"]||[]).push([[0],{116:function(e,t){},160:function(e,t,a){e.exports=a(175)},165:function(e,t,a){},168:function(e,t){},175:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),r=a(135),i=a.n(r),c=a(94),l=(a(165),a(146)),s=a(33),u=a(142),d=a(191),g=a(197),m=a(198),h=a(193),b=a(196),p=a(141),v=[166,3,3],f=[35,181,184],E=new b.a;function w(e){var t=e.object;return t&&{html:"<h3>".concat(t.name,"</h3><p>Number of collaborations: ").concat(t.net,"</p>"),style:{fontSize:"0.8em"}}}function x(e){var t=e.data,a=e.enableBrushing,r=void 0===a||a,i=e.brushRadius,c=void 0===i?100:i,s=e.strokeWidth,b=void 0===s?2:s,x=e.opacity,k=void 0===x?.7:x,S=e.mapStyle,C=void 0===S?"mapbox://styles/mapbox/light-v9":S,j=Object(n.useState)({longitude:-2.9,latitude:56.1,zoom:5.5,maxZoom:15,pitch:0,bearing:0}),P=Object(l.a)(j,2),W=P[0],z=P[1],N=Object(n.useCallback)((function(e){var t=e.viewState;console.log("zoom"),console.log(t.zoom),z(t)}),[]),R=Object(n.useMemo)((function(){return t}),[t]),J=R.arcs,O=R.targets,T=R.sources;console.log(J),console.log(O);var I=Object(p.a)().exponent(3).domain([W.maxZoom,5]).range([10,550])(W.zoom);console.log(I);var M=J&&O&&[new g.a({id:"sources",data:T,brushingRadius:c,brushingEnabled:r,radiusScale:r?3e3:0,getFillColor:function(e){return e.gain>0?f:v},extensions:[E]}),new g.a({id:"targets-base",data:O,brushingRadius:c,brushingEnabled:!1,pickable:!0,radiusScale:I,getFillColor:f}),new g.a({id:"targets-ring",data:O,brushingRadius:c,lineWidthMinPixels:2,stroked:!0,filled:!1,brushingEnabled:r,radiusScale:r?1e3:0,getLineColor:v,extensions:[E]}),new g.a({id:"targets",data:O,brushingRadius:c,brushingEnabled:r,pickable:!0,radiusScale:500,getFillColor:v,extensions:[E]}),new h.a({data:O,id:"heatmap",pickable:!1,getPosition:function(e){return e.position},getWeight:function(e){return e.net},radiusPixels:100,intensity:1,threshold:.02}),new m.a({id:"arc-reverse",data:J,getWidth:b,opacity:k,brushingRadius:c,brushingEnabled:r,getSourcePosition:function(e){return e.target},getTargetPosition:function(e){return e.source},getSourceColor:v,getTargetColor:f,extensions:[E]}),new m.a({id:"arc",data:J,getWidth:b,opacity:k,brushingRadius:c,brushingEnabled:r,getSourcePosition:function(e){return e.source},getTargetPosition:function(e){return e.target},getSourceColor:v,getTargetColor:f,extensions:[E]})];return o.a.createElement("div",{className:"arc"},o.a.createElement(d.a,{layers:M,viewState:W,onViewStateChange:N,controller:!0,getTooltip:w},o.a.createElement(y,null),o.a.createElement(u.a,{reuseMaps:!0,mapStyle:C,preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoiYWxleGJpc2hvcCIsImEiOiJja2c3dXlyMGwwNGo1MndteW82dG9zeXJlIn0._DAKpeBrXy5oKPPKhpddHw"})))}var k=function(){return o.a.createElement("div",{className:"home"},o.a.createElement(y,null),o.a.createElement("p",null,"Data may take a while to load"))},y=function(){return o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null," ",o.a.createElement(c.b,{exact:!0,activeClassName:"current",to:"/"},"Home")),o.a.createElement("li",null," ",o.a.createElement(c.b,{exact:!0,activeClassName:"current",to:"/arc"},"Arc"))))},S=function(e){var t=e.data;return o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:k}),o.a.createElement(s.a,{exact:!0,path:"/arc"},o.a.createElement(x,{data:t})))},C=function(e){var t=e.data;return o.a.createElement("div",{className:"app"},o.a.createElement(S,{data:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=document.getElementById("root");fetch("https://nesta-test.s3.eu-west-2.amazonaws.com/gtr-deck-gl-test.json").then((function(e){return e.json()})).then((function(e){i.a.render(o.a.createElement(c.a,{basename:"deck-gl-test"},o.a.createElement(C,{data:e})),j)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[160,1,2]]]);
//# sourceMappingURL=main.13188eba.chunk.js.map