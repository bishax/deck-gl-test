(this["webpackJsonpdeck-gl-test"]=this["webpackJsonpdeck-gl-test"]||[]).push([[0],{106:function(e,t){},143:function(e,t,n){e.exports=n(156)},148:function(e,t,n){},151:function(e,t){},156:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n.n(a),o=n(103),i=n.n(o),s=(n(148),n(107)),c=n(126),u=n(171),l=n(175),d=n(176),g=n(174),h=n(125),p=[166,3,3],b=[35,181,184],f={longitude:-100,latitude:40.7,zoom:3,maxZoom:15,pitch:0,bearing:0},m=new g.a;function v(e){var t=e.object;return t&&"    ".concat(t.name,"\n    Net gain: ").concat(t.net)}function w(e){var t=e.data,n=e.enableBrushing,o=void 0===n||n,i=e.brushRadius,g=void 0===i?1e5:i,w=e.strokeWidth,k=void 0===w?2:w,y=e.opacity,E=void 0===y?.7:y,x=e.mapStyle,M=void 0===x?"mapbox://styles/mapbox/light-v9":x,j=Object(a.useMemo)((function(){return function(e){if(!e||!e.length)return{};var t=[],n=[],a=[],r={};e.forEach((function(o,i){var c=o.properties,u=c.flows,l=c.centroid,d={gain:0,loss:0};Object.keys(u).forEach((function(n){if(d[u[n]>0?"gain":"loss"]+=u[n],!(Math.abs(u[n])<50)){var o=[i,Number(n)].sort((function(e,t){return e-t})).join("-"),s=e[n].properties.centroid,c=Math.sign(u[n]);a.push({position:s,target:l,name:e[n].properties.name,radius:3,gain:-c}),r[o]||(r[o]=!0,t.push({target:c>0?l:s,source:c>0?s:l,value:u[n]}))}})),n.push(Object(s.a)(Object(s.a)({},d),{},{position:[l[0],l[1],10],net:d.gain+d.loss,name:o.properties.name}))})),n.sort((function(e,t){return Math.abs(t.net)-Math.abs(e.net)}));var o=Object(h.a)().domain([0,Math.abs(n[0].net)]).range([36,400]);return n.forEach((function(e){e.radius=Math.sqrt(o(Math.abs(e.net)))})),{arcs:t,targets:n,sources:a}}(t)}),[t]),S=j.arcs,W=j.targets,C=j.sources,J=S&&W&&[new l.a({id:"sources",data:C,brushingRadius:g,brushingEnabled:o,radiusScale:o?3e3:0,getFillColor:function(e){return e.gain>0?b:p},extensions:[m]}),new l.a({id:"targets-ring",data:W,brushingRadius:g,lineWidthMinPixels:2,stroked:!0,filled:!1,brushingEnabled:o,radiusScale:o?4e3:0,getLineColor:function(e){return e.net>0?b:p},extensions:[m]}),new l.a({id:"targets",data:W,brushingRadius:g,brushingEnabled:o,pickable:!0,radiusScale:3e3,getFillColor:function(e){return e.net>0?b:p},extensions:[m]}),new d.a({id:"arc",data:S,getWidth:k,opacity:E,brushingRadius:g,brushingEnabled:o,getSourcePosition:function(e){return e.source},getTargetPosition:function(e){return e.target},getSourceColor:p,getTargetColor:b,extensions:[m]})];return r.a.createElement(u.a,{layers:J,initialViewState:f,controller:!0,getTooltip:v},r.a.createElement(c.a,{reuseMaps:!0,mapStyle:M,preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoiYWxleGJpc2hvcCIsImEiOiJja2c3dXlyMGwwNGo1MndteW82dG9zeXJlIn0._DAKpeBrXy5oKPPKhpddHw"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=document.getElementById("root");i.a.render(r.a.createElement(w,null),k),fetch("https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json").then((function(e){return e.json()})).then((function(e){var t=e.features;i.a.render(r.a.createElement(w,{data:t}),k)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.7695107f.chunk.js.map