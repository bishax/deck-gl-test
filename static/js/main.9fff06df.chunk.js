(this["webpackJsonpdeck-gl-test"]=this["webpackJsonpdeck-gl-test"]||[]).push([[0],{106:function(e,t){},143:function(e,t,n){e.exports=n(156)},148:function(e,t,n){},151:function(e,t){},156:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n.n(a),r=n(103),i=n.n(r),s=(n(148),n(107)),c=n(126),u=n(171),l=n(175),d=n(176),g=n(174),h=n(125),p="pk.eyJ1IjoiYWxleGJpc2hvcCIsImEiOiJja2c3dXlyMGwwNGo1MndteW82dG9zeXJlIn0._DAKpeBrXy5oKPPKhpddHw";console.log(p);var b=[166,3,3],f=[35,181,184],m={longitude:-100,latitude:40.7,zoom:3,maxZoom:15,pitch:0,bearing:0},v=new g.a;function w(e){var t=e.object;return t&&"    ".concat(t.name,"\n    Net gain: ").concat(t.net)}function k(e){var t=e.data,n=e.enableBrushing,r=void 0===n||n,i=e.brushRadius,g=void 0===i?1e5:i,k=e.strokeWidth,y=void 0===k?2:k,E=e.opacity,x=void 0===E?.7:E,M=e.mapStyle,j=void 0===M?"mapbox://styles/mapbox/light-v9":M,S=Object(a.useMemo)((function(){return function(e){if(!e||!e.length)return{};var t=[],n=[],a=[],o={};e.forEach((function(r,i){var c=r.properties,u=c.flows,l=c.centroid,d={gain:0,loss:0};Object.keys(u).forEach((function(n){if(d[u[n]>0?"gain":"loss"]+=u[n],!(Math.abs(u[n])<50)){var r=[i,Number(n)].sort((function(e,t){return e-t})).join("-"),s=e[n].properties.centroid,c=Math.sign(u[n]);a.push({position:s,target:l,name:e[n].properties.name,radius:3,gain:-c}),o[r]||(o[r]=!0,t.push({target:c>0?l:s,source:c>0?s:l,value:u[n]}))}})),n.push(Object(s.a)(Object(s.a)({},d),{},{position:[l[0],l[1],10],net:d.gain+d.loss,name:r.properties.name}))})),n.sort((function(e,t){return Math.abs(t.net)-Math.abs(e.net)}));var r=Object(h.a)().domain([0,Math.abs(n[0].net)]).range([36,400]);return n.forEach((function(e){e.radius=Math.sqrt(r(Math.abs(e.net)))})),{arcs:t,targets:n,sources:a}}(t)}),[t]),W=S.arcs,C=S.targets,J=S.sources,O=W&&C&&[new l.a({id:"sources",data:J,brushingRadius:g,brushingEnabled:r,radiusScale:r?3e3:0,getFillColor:function(e){return e.gain>0?f:b},extensions:[v]}),new l.a({id:"targets-ring",data:C,brushingRadius:g,lineWidthMinPixels:2,stroked:!0,filled:!1,brushingEnabled:r,radiusScale:r?4e3:0,getLineColor:function(e){return e.net>0?f:b},extensions:[v]}),new l.a({id:"targets",data:C,brushingRadius:g,brushingEnabled:r,pickable:!0,radiusScale:3e3,getFillColor:function(e){return e.net>0?f:b},extensions:[v]}),new d.a({id:"arc",data:W,getWidth:y,opacity:x,brushingRadius:g,brushingEnabled:r,getSourcePosition:function(e){return e.source},getTargetPosition:function(e){return e.target},getSourceColor:b,getTargetColor:f,extensions:[v]})];return o.a.createElement(u.a,{layers:O,initialViewState:m,controller:!0,getTooltip:w},o.a.createElement(c.a,{reuseMaps:!0,mapStyle:j,preventStyleDiffing:!0,mapboxApiAccessToken:p}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=document.getElementById("root");i.a.render(o.a.createElement(k,null),y),fetch("https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json").then((function(e){return e.json()})).then((function(e){var t=e.features;i.a.render(o.a.createElement(k,{data:t}),y)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.9fff06df.chunk.js.map