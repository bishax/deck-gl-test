(this["webpackJsonpdeck-gl-test"]=this["webpackJsonpdeck-gl-test"]||[]).push([[0],{106:function(e,t){},143:function(e,t,n){e.exports=n(156)},148:function(e,t,n){},151:function(e,t){},156:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n.n(a),r=n(103),i=n.n(r),s=(n(148),n(107)),c=n(126),u=n(171),l=n(175),d=n(176),g=n(174),h=n(125),b=Object({NODE_ENV:"production",PUBLIC_URL:"/deck-gl-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MapboxAccessToken;console.log(b);var p=[166,3,3],f=[35,181,184],m={longitude:-100,latitude:40.7,zoom:3,maxZoom:15,pitch:0,bearing:0},v=new g.a;function E(e){var t=e.object;return t&&"    ".concat(t.name,"\n    Net gain: ").concat(t.net)}function w(e){var t=e.data,n=e.enableBrushing,r=void 0===n||n,i=e.brushRadius,g=void 0===i?1e5:i,w=e.strokeWidth,S=void 0===w?2:w,k=e.opacity,x=void 0===k?.7:k,O=e.mapStyle,T=void 0===O?"mapbox://styles/mapbox/light-v9":O,M=Object(a.useMemo)((function(){return function(e){if(!e||!e.length)return{};var t=[],n=[],a=[],o={};e.forEach((function(r,i){var c=r.properties,u=c.flows,l=c.centroid,d={gain:0,loss:0};Object.keys(u).forEach((function(n){if(d[u[n]>0?"gain":"loss"]+=u[n],!(Math.abs(u[n])<50)){var r=[i,Number(n)].sort((function(e,t){return e-t})).join("-"),s=e[n].properties.centroid,c=Math.sign(u[n]);a.push({position:s,target:l,name:e[n].properties.name,radius:3,gain:-c}),o[r]||(o[r]=!0,t.push({target:c>0?l:s,source:c>0?s:l,value:u[n]}))}})),n.push(Object(s.a)(Object(s.a)({},d),{},{position:[l[0],l[1],10],net:d.gain+d.loss,name:r.properties.name}))})),n.sort((function(e,t){return Math.abs(t.net)-Math.abs(e.net)}));var r=Object(h.a)().domain([0,Math.abs(n[0].net)]).range([36,400]);return n.forEach((function(e){e.radius=Math.sqrt(r(Math.abs(e.net)))})),{arcs:t,targets:n,sources:a}}(t)}),[t]),j=M.arcs,y=M.targets,C=M.sources,_=j&&y&&[new l.a({id:"sources",data:C,brushingRadius:g,brushingEnabled:r,radiusScale:r?3e3:0,getFillColor:function(e){return e.gain>0?f:p},extensions:[v]}),new l.a({id:"targets-ring",data:y,brushingRadius:g,lineWidthMinPixels:2,stroked:!0,filled:!1,brushingEnabled:r,radiusScale:r?4e3:0,getLineColor:function(e){return e.net>0?f:p},extensions:[v]}),new l.a({id:"targets",data:y,brushingRadius:g,brushingEnabled:r,pickable:!0,radiusScale:3e3,getFillColor:function(e){return e.net>0?f:p},extensions:[v]}),new d.a({id:"arc",data:j,getWidth:S,opacity:x,brushingRadius:g,brushingEnabled:r,getSourcePosition:function(e){return e.source},getTargetPosition:function(e){return e.target},getSourceColor:p,getTargetColor:f,extensions:[v]})];return o.a.createElement(u.a,{layers:_,initialViewState:m,controller:!0,getTooltip:E},o.a.createElement(c.a,{reuseMaps:!0,mapStyle:T,preventStyleDiffing:!0,mapboxApiAccessToken:b}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=document.getElementById("root");i.a.render(o.a.createElement(w,null),S),fetch("https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/arc/counties.json").then((function(e){return e.json()})).then((function(e){var t=e.features;i.a.render(o.a.createElement(w,{data:t}),S)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.c70b5931.chunk.js.map