(this["webpackJsonpdeck-gl-test"]=this["webpackJsonpdeck-gl-test"]||[]).push([[0],{108:function(e,t){},148:function(e,t,n){e.exports=n(161)},153:function(e,t,n){},156:function(e,t){},161:function(e,t,n){"use strict";n.r(t);var o=n(8),a=n.n(o),i=n(124),r=n.n(i),s=(n(153),n(134)),c=n(130),l=n(177),u=n(183),d=n(184),g=n(179),h=n(182),b=n(129),m=Object({NODE_ENV:"production",PUBLIC_URL:"/deck-gl-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MapboxAccessToken,p=[166,3,3],f=[35,181,184],v=new h.a;function S(e){var t=e.object;return t&&{html:"<h3>".concat(t.name,"</h3><p>Number of collaborations: ").concat(t.net,"</p>"),style:{fontSize:"0.8em"}}}function w(e){var t=e.data,n=e.enableBrushing,i=void 0===n||n,r=e.brushRadius,h=void 0===r?100:r,w=e.strokeWidth,E=void 0===w?2:w,k=e.opacity,x=void 0===k?.7:k,C=e.mapStyle,T=void 0===C?"mapbox://styles/mapbox/light-v9":C,y=Object(o.useState)({longitude:-2.9,latitude:56.1,zoom:5.5,maxZoom:15,pitch:0,bearing:0}),O=Object(s.a)(y,2),P=O[0],W=O[1],_=Object(o.useCallback)((function(e){var t=e.viewState;console.log("zoom"),console.log(t.zoom),W(t)}),[]),j=Object(o.useMemo)((function(){return t}),[t]),R=j.arcs,z=j.targets,A=(j.sources,Object(b.a)().exponent(3).domain([P.maxZoom,5]).range([10,550])(P.zoom));console.log(A);var D=R&&z&&[new u.a({id:"targets-base",data:z,brushingRadius:h,brushingEnabled:!1,pickable:!0,radiusScale:A,getFillColor:f}),new u.a({id:"targets-ring",data:z,brushingRadius:h,lineWidthMinPixels:2,stroked:!0,filled:!1,brushingEnabled:i,radiusScale:i?1e3:0,getLineColor:p,extensions:[v]}),new u.a({id:"targets",data:z,brushingRadius:h,brushingEnabled:i,pickable:!0,radiusScale:500,getFillColor:p,extensions:[v]}),new g.a({data:z,id:"heatmap",pickable:!1,getPosition:function(e){return e.position},getWeight:function(e){return e.net},radiusPixels:100,intensity:1,threshold:.02}),new d.a({id:"arc-reverse",data:R,getWidth:E,opacity:x,brushingRadius:h,brushingEnabled:i,getSourcePosition:function(e){return e.target},getTargetPosition:function(e){return e.source},getSourceColor:p,getTargetColor:f,extensions:[v]}),new d.a({id:"arc",data:R,getWidth:E,opacity:x,brushingRadius:h,brushingEnabled:i,getSourcePosition:function(e){return e.source},getTargetPosition:function(e){return e.target},getSourceColor:p,getTargetColor:f,extensions:[v]})];return a.a.createElement(l.a,{layers:D,viewState:P,onViewStateChange:_,controller:!0,getTooltip:S},a.a.createElement("div",null,a.a.createElement("p",null,"Hello")),a.a.createElement(c.a,{reuseMaps:!0,mapStyle:T,preventStyleDiffing:!0,mapboxApiAccessToken:m}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=document.getElementById("root");fetch("https://nesta-test.s3.eu-west-2.amazonaws.com/gtr-deck-gl-test.json").then((function(e){return e.json()})).then((function(e){r.a.render(a.a.createElement(w,{data:e}),E)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);
//# sourceMappingURL=main.0f07d4a9.chunk.js.map